# 変数をつかってみよう

ここでは変数についてざっくり解説します。

C言語に限らず、あらゆるプログラムにおいて変数という概念は欠かせません。

ここの内容はものすごく重要です。

:::details 目次
[[toc]]
:::


## 変数ってなんぞや？

変数とはずばり、**値を保持するためのもの**です。

たとえば1,000円札って今持っていますか？

おそらく財布のなかにあると思います。

この1,000円札を入っている財布が変数です。

## 変数を宣言しよう

C言語では**データ型と名前を使って変数を宣言する**ことができます。

宣言というのは**保持してほしいデータの種類**と、それを**引き出すための名前**をつけることでC言語に使用する変数を教えることができます。

この**教える動作を宣言**といいます。

「データ型...？データの種類ってなに...?」となったかもしれませんが、安心してください。解説します。

### データ型とは

C言語では扱う値によって**データ型**という枠組みにあてはめて値を管理しています。

たとえば、5や13などの整数値を保持する場合は**int型**を使用します。

繰り返しになってしまいますが、このint型のように**扱う値を定める枠組み・仕組みがデータ型**です。

### データ型の一覧

このドキュメントで使うであろうデータ型をすこしだけ上げてみました。

ここにあるリスト以外にもたくさんデータ型があるので詳しくは調べてください。

|型名|内容|値|
|:-:|:-:|:-:|
|int|符号付整数値|14, -24|
|float|単精度浮動小数数|0.24, -13.4|
|char|文字|a, B, &|
|void|データなし|(虚無)|

## C言語で宣言してみる

いよいよC言語で変数を宣言してみましょう。

この節の冒頭に述べたようにC言語ではデータ型と変数名を使用して宣言することができます。

```c{2,3}
int main(void){
    // 変数名walletで変数を宣言する
    int wallet;

    return 0;
}
```

これで宣言することができました。

しかしこれでは宣言しただけで値はありません。

例えるなら、ただ財布を準備しただけで肝心のお金が入っていません。

では実際にお金を入れてみましょう。

```c{5,6}
int main(void){
    // 変数名walletで変数を宣言する
    int wallet;

    // 変数walletに値を入れる。
    wallet = 1000;

    return 0;
}

```

これでお金(値)を財布(変数)に入れることができました。

ここで注意してほしいのが**数学での'='とは違い**、**C言語での'='は代入を意味する**という点です。

ところで、これだけではちゃんとお金が入っているかわかりませんね。

なのでprintf()を使用して変数の中身を表示してみましょう。

[ wallet.c ]
```c{10,11}
#include <stdio.h>

int main(void){
    // 変数名walletで変数を宣言する
    int wallet;

    // 変数walletに値を入れる。
    wallet = 1000;

    // 変数walletを表示する
    printf("財布の中身: %d\n", wallet);

    return 0;
}
```

これでよし。

実際にコンパイルして実行してみましょう。

```
財布の中身: 1000
```

しっかりと出力されました

## 他のデータ型を使ってみる

先ほどのプログラムを改変して1000円から1234.5円にしてみましょう。

ということで値だけ変えてみましょう。

```c{7,8}
#include <stdio.h>

int main(void){
    // 変数名walletで変数を宣言する
    int wallet;

    // 変数walletに値を入れる。
    wallet = 1234.5;

    // 変数walletを表示する
    printf("財布の中身: %d\n", wallet);

    return 0;
}
```

コンパイルして実行してみると、、、おや。小数点が切り捨てられました。

これは前節で解説したように、int(整数)で扱っているときは小数点以下は切り捨てられます。

では次に、変数宣言のときにint型ではなくfloat型にしてみましょう。

```c{4,5}
#include <stdio.h>

int main(void){
    // 変数名walletでfloat型変数を宣言する
    float wallet;

    // 変数walletに値を入れる。
    wallet = 1234.5;

    // 変数walletを表示する
    printf("財布の中身: %d\n", wallet);

    return 0;
}
```

実はこのまま、コンパイルして実行しても1234.5とは表示されません。

そこで、printf()の中の文字列に少し変更を加えます。

```c{10,11}
#include <stdio.h>

int main(void){
    // 変数名walletでfloat型変数を宣言する
    float wallet;

    // 変数walletに値を入れる。
    wallet = 1234.5;

    // 変数walletを表示する(%dから%fに)
    printf("財布の中身: %f\n", wallet);

    return 0;
}
```

これでコンパイルして実行してみましょう。

```
財布の中身: 1234.500000
```

うまく表示されました。

:::tip
小数点以下の0が邪魔ですね。このような場合は、%fを%.1fとしてみましょう。</br>
これを実行すると小数点以下が一桁だけになりました。

このような制御を知りたい場合は、「C言語 フォーマット指定子」という感じで調べてみてください。
:::

## 変数で計算してみよう

変数を使って変数同士で計算することもできます。

```c
#include <stdio.h>

int main(void){
    // 変数宣言
    int number1 = 5;
    int number2 = 10;

    // 計算して表示
    printf("%d", number1 + number2);

    return 0;
}
```

これを実行すると当然 15 という結果が得られます。

:::tip
変数宣言と同時に実は代入もしていることに気付きましたか？</br>
これは初期化と呼ばれる作業です。

特に違いはありませんが、今後プログラミングをしていく中で違いと重みがわかるようになります....
:::