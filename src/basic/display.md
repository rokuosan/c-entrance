# 画面表示をしてみよう

ここでは画面に文字列を表示する方法を知ることができます。

ここで紹介する関数などは**非常に重要**になるのでしっかりと習得しておきましょう。

:::details 目次
[[toc]]
:::

## 文字列を表示する

文字列を表示するというのは実はもうやっていたりします。

そうです、``printf()``です。

使用する方法は以下の通りです。

```c
printf("文字列");
```

このダブルクオーテーションで囲った部分に書いたことがプロンプト上に表示されます。

さて、この関数をプログラム中に書けば使えるようになるわけですが、どこに書くべきでしょうか？

1. C言語はmain()から始まる。言い換えるとmain()は必ず必要である。
2. (1)より、printf()だけではまず動かない。

以上の項目を踏まえて考えてみると書くべき場所に察しが付いたかと思います。

正解は``main()``の中です。

## プログラムを書いてみる

main()に書けばいいことがわかったので早速書いてみましょう。

[ print.c ]
```c
int main(void){
    // main()の中にprintf()を書いてみる
    printf("文字列が表示できました！");

    return 0;
}
```

さて、これをコンパイルしてみましょう。

...ってあれ??コンパイルエラーになってしまいました。

[ Command Prompt ]
```bash
print.c: In function ‘main’:
print.c:3:5: warning: implicit declaration of function ‘printf’ [-Wimplicit-function-declaration]
    3 |     printf("文字列が表示できました！");
      |     ^~~~~~
print.c:3:5: warning: incompatible implicit declaration of built-in function ‘printf’
```

実は**printf()を使用するには``stdio.h``というヘッダファイルを読み込む必要があります。**

また、そのヘッダファイルを読み込むためには ``#include`` というプリプロセッサ命令を出す必要があります。

:::tip ヘッダファイル / プリプロセッサ命令とは ?
- ヘッダファイル
  - printf()などの関数などが書かれた辞書のようなものです。読み込むだけで、その中に記されたものが使用できます。</br>今は処理する内容が予め定義されているファイルだと思ってください。
- プリプロセッサ命令
  - コンパイルする前に行う処理のこと。``#``から始まるので簡単に見分けがつくはずです。
:::

そしてその#includeを使用するにはソースコードの先頭に命令を追加します。

修正したソースコードが以下になります。

```c{1}
#include <stdio.h>

int main(void){
    // main()の中にprintf()を書いてみる
    printf("文字列が表示できました！");

    return 0;
}
```

一行目に``#include <stdio.h>``を追加したあと、もう一度コンパイルしてください。

そうするとエラーは綺麗サッパリ消えていることでしょう。

## 実行する

コンパイルが出来たら、実行してみましょう。

しっかりと文字列が表示されていることでしょう。

:::warning
もし、文字がおかしく表示されている場合は文字コードをShift-JISに変更することで正しく表示されるはずです。</br>
Googleなどで「{エディタ名} 文字コード 変更」といったように調べてください。
:::

## 改行してみよう

これで文字列を自由に表示できるようになりました。

では様々な文字を表示してみましょう。

例文として以下の文章を表示してみます。

```
考えたってわからないし
青空の中、君を待った。
風が吹いた正午、昼下がりを抜け出す想像。
```

これをこんな感じで...

[ yorusika.c ]
```c
#include <stdio.h>

int main(void){
    printf("考えたってわからないし");
    printf("青空の中、君を待った。");
    printf("風が吹いた正午、昼下がりを抜け出す想像。");

    return 0;
}
```

コンパイルして...実行！！

ってあれ...？？なぜか一行で表示されました。

[ yorusika.exe ]
```
考えたってわからないし青空の中、君を待った。風が吹いた正午、昼下がりを抜け出す想像。
```

改行が出来てません。

そしてこれを解消するには**エスケープシーケンス**(特殊文字)と呼ばれるものを使用します。

よく使うエスケープシーケンスを3つ挙げてみます。

- ``\b`` : バックスペース / 一文字削除
- ``\n`` : 復帰改行
- ``\t`` : 水平タブ

この中で改行を示すのは書いてあるように ``\n``です。

これをprintf()内の文字列の中に入れましょう。

そうすると以下のようになります。

```c
#include <stdio.h>

int main(void)
{
    printf("考えたってわからないし\n");
    printf("青空の中、君を待った。\n");
    printf("風が吹いた正午、昼下がりを抜け出す想像。\n");

    return 0;
}
```

そしてこれをコンパイルして実行します。

```bash
考えたってわからないし
青空の中、君を待った。
風が吹いた正午、昼下がりを抜け出す想像。
```

ちゃんと改行されました。

## 復習問題

:::tip 問, 1
文字列を出力する関数はなにか。
:::
:::details 答え
printf()
:::

:::tip 問, 2
ある関数をソースコード内で利用したい。</br>
どこに書くべきか。
:::
:::details 答え
main()
:::

:::tip 問, 3
printf()を利用するために読み込むヘッダファイル名は何か。
:::
:::details 答え
stdio.h
:::

:::tip 問, 4
改行を文字列内で行いたい。</br>
なにを入力すればよいか。
:::
:::details 答え
\n</br>
(エスケープシーケンスでは不十分)
:::

:::tip 問, 5
以下の文字列を出力したい。ソースコードを書いて回答する。
```
こんにちは。
今日はいい天気です。
明日は晴れるといいな。
```
:::
:::details 答え
```c
#include <stdio.h>

int main(void){
    printf("こんにちは。\n");
    printf("今日はいい天気です。\n");
    printf("明日は晴れるといいな。\n");

    return 0;
}
```
:::details 一行にまとめてこのように書くこともできます。
```c
#include <stdio.h>

int main(void){
    printf("こんにちは。\n今日はいい天気です。\n明日は晴れるといいな。\n");

    return 0;
}
```
:::